---
title: "Многоцелевой протокол расширений электронной почты в Интернете"
url: /ru/java/multipurpose-internet-mail-extensions-protocol/
weight: 20
type: docs
---


{{% alert color="primary" %}}

Многоцелевые расширения электронной почты Интернета (MIME) — это стандарт Интернета, расширяющий формат электронной почты для поддержки:

- текст в наборах символов, отличных от US-ASCII;
- нетекстовые вложения;
- тела сообщений, состоящие из нескольких частей; и
- информация заголовка в наборах символов, отличных от ASCII.

SMTP поддерживает только 7-битные символы ASCII, что фактически означает, что он поддерживает только небольшое количество языков. Языки, основанные на латинском алфавите, отлично подходят для SMTP; другие языки отображаются некорректно при доставке письма. Однако MIME расширяет поддержку символов ASCII в SMPT, чтобы можно было отправлять и отображать сообщения, содержащие другие наборы символов, изображений и звуков. Как правило, все почтовые клиенты и SMTP-серверы правильно отображают сообщения в формате MIME.

{{% /alert %}}
## **Понимание заголовков MIME**
Заголовки MIME содержат информацию о протоколе.
### **MIME-Version**
Это означает, что сообщение отформатировано в формате MIME. Оно выглядит следующим образом:

Версия MIME: 1.0
### **Content-Type**
Это указывает тип содержимого сообщения в виде пары типов и подтипов: например, text/plain, text/html. Составной тип контента может содержать текст, HTML, вложения, изображения, аудио, видео и т. д.

Тип контента: составной
### **Content-Transfer-Encoding**
Указывает, используется ли схема двоичного кодирования в текст поверх кодировки, указанной в параметре content-type. Если да, указывает, какая. Здесь мы можем указать 7-битный, 8-битный и двоичный тип кодирования.
### **Encoded-Word**
В заголовках SMTP-сообщений обычно используются символы ASCII. Символы, отличные от ASCII, должны использовать синтаксис слов в кодировке MIME вместо буквальной строки. Формат выглядит следующим образом:

"=? *charset* ? *encoding* ? *закодированный текст* ?=".
### **Multipart-Messages**
Составное сообщение MIME содержит границу в заголовке типа содержимого. Эта граница, которая не должна встречаться ни в одной из частей, расположена между частями, а также в начале и в конце текста сообщения следующим образом:

**Версия MIME: 1.0**

~~~Java

 Content-type: multipart/mixed; boundary="frontier"

This is a multi-part message in MIME format.

--frontier

Content-type: text/plain

This is the body of the message.

--frontier

Content-type: application/octet-stream

Content-transfer-encoding: base64

PGh0bWw+CiAgPGhlYWQ+CiAgPC9oZWFkPgogIDxib2R5PgogICAgPHA+VGhpcyBpcyB0aGUg

Ym9keSBvZiB0aGUgbWVzc2FnZS48L3A+CiAgPC9ib2R5Pgo8L2h0bWw+Cg==

--frontier--

~~~

Каждая часть состоит из собственного заголовка и текста.
### **Подтипы, состоящие из нескольких частей**
Стандарт MIME определяет различные подтипы сообщений, состоящих из нескольких частей. Подтип указан в заголовке «Content-Type» всего сообщения.

Ниже приведен список наиболее часто используемых подтипов.

- Смешанный: Multipart/Mixed используется для отправки файлов с разными встроенными заголовками «Content-Type». При отправке изображений или других легко читаемых файлов большинство почтовых клиентов будут отображать их в режиме онлайн.
- Сообщение: часть сообщения содержит сообщение электронной почты.
- Дайджест: дайджест — это простой способ отправки нескольких текстовых сообщений. По умолчанию для каждой части используется тип содержимого «message/rfc822».
- Альтернатива: альтернативный подтип означает, что каждая часть представляет собой «альтернативную» версию того же (или аналогичного) содержимого, каждая из которых представлена в другом формате, обозначаемом заголовком «Content-Type».

Чаще всего многочастный/альтернативный используется для электронной почты, состоящей из двух частей: простой текст (текстовый/обычный) и один HTML (текст/html). Часть с простым текстом обеспечивает обратную совместимость, а часть HTML позволяет использовать форматирование и гиперссылки. Большинство почтовых клиентов предлагают пользователям отдавать предпочтение обычному тексту, а не HTML; это пример того, как местные факторы могут повлиять на выбор приложением «наилучшей» части сообщения для отображения.

{{% alert color="primary" %}}

Для получения дополнительной информации перейдите по этим ссылкам на архивы RFC.

- [RFC2045](https://www.rfc-archive.org/getrfc.php?rfc=2045#gsc.tab=0)
- [RFC131](https://www.rfc-archive.org/getrfc.php?rfc=131#gsc.tab=0)

{{% /alert %}}
