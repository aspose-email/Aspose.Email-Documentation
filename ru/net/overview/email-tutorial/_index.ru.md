---
title: "Учебник по электронной почте"
url: /ru/net/email-tutorial/
weight: 5
type: docs
---

## **Самые популярные форматы файлов электронной почты**

### MSG

**Сообщение Microsoft Outlook (MSG)** это собственный формат электронной почты, используемый Microsoft Outlook для хранения отдельных сообщений электронной почты. Эти файлы содержат содержимое электронной почты и метаданные, такие как отправитель, получатели, тема и временные метки. Они поддерживают расширенное форматирование, вложения и специфичные для Outlook функции, такие как флаги, важность и конфиденциальность.

#### Ключевые функции

- Файл MSG представляет собой одно сообщение электронной почты.
- Файлы MSG связаны с Microsoft Outlook и могут быть открыты им.
- Файлы MSG обычно используются для архивирования, резервного копирования и обмена элементами Outlook между различными экземплярами Outlook или другими совместимыми почтовыми клиентами.

MSG тесно связана с Microsoft Outlook и **Программный интерфейс приложения для обмена сообщениями (MAPI)**. MAPI — это программный интерфейс, позволяющий приложениям взаимодействовать со службами обмена сообщениями, в первую очередь с Microsoft Exchange Server и Microsoft Outlook. Он предоставляет набор функций и протоколов для отправки, получения и управления сообщениями электронной почты, а также для доступа к другим функциям обмена сообщениями, таким как календари, контакты и задачи. MAPI используется Microsoft Outlook для создания, обработки и управления сообщениями электронной почты. Когда пользователь создает или получает электронное письмо в Outlook, MAPI отвечает за базовую связь с почтовым сервером и предоставляет необходимые функции для управления содержимым сообщения.

#### Техническая основа формата MSG

Файлы MSG хранят данные сообщений, используя **Свойства MAPI**, которые представляют собой атрибуты, определяющие различные аспекты сообщения. Эти свойства включают стандартные атрибуты, такие как отправитель, получатель, тема и временные метки, а также настраиваемые свойства и расширенные атрибуты.
Свойства организуют сообщение в иерархическую структуру, при этом свойства верхнего уровня определяют общие атрибуты сообщения, а вложенные свойства представляют конкретные компоненты, такие как получатели, вложения и встроенные объекты. Файлы MSG могут содержать несколько потоков свойств, каждый из которых содержит набор связанных свойств MAPI. Эти потоки структурированы в соответствии с **Бинарный формат составного файла (CFBF)** и храните как стандартные, так и пользовательские свойства.

### OFT

**Шаблон файла Outlook (OFT)** это формат электронной почты, используемый Microsoft Outlook для создания стандартизированных сообщений. В отличие от файлов MSG, файлы OFT не содержат фактического содержимого сообщений, а служат шаблонами с предопределенным форматированием, макетом и заполнителями для динамического содержимого.

#### Ключевые функции

 - Файлы OFT упрощают создание повторяющихся электронных писем, предоставляя предварительно разработанные шаблоны для распространенных сценариев, таких как информационные бюллетени, объявления или ответы.
 - Используя шаблоны OFT, организации обеспечивают единообразие фирменного стиля, форматирования и обмена сообщениями во всех исходящих сообщениях.
 - Пользователи могут настраивать шаблоны OFT, добавляя или изменяя содержимое перед отправкой, что позволяет персонализировать сообщения при сохранении стандартизированного форматирования.

### EML

**EML** является одним из наиболее широко известных и используемых форматов файлов электронной почты, в первую очередь разработанный для соблюдения **MIME (многоцелевые расширения электронной почты Интернета)** стандарт. Этот формат широко поддерживается различными почтовыми клиентами и системами благодаря открытому и универсальному подходу к хранению и передаче электронной почты.

#### Ключевые характеристики

- Каждый файл EML содержит одно сообщение электронной почты и связанные с ним метаданные, такие как отправитель, получатели, тема и временные метки.
- Файлы EML поддерживают расширенное форматирование, вложения и встроенные элементы в соответствии со стандартом MIME, который обеспечивает универсальное представление содержимого электронной почты.
-  В отличие от проприетарных форматов, таких как MSG (Microsoft Outlook Message), которые тесно связаны с конкретным программным обеспечением (Outlook и MAPI), файлы EML предлагают более универсальный подход, совместимый с различными почтовыми программами на разных платформах. Файлы EML совместимы с множеством почтовых клиентов, включая, помимо прочего, Microsoft Outlook, Mozilla Thunderbird, Apple Mail и многие почтовые веб-сервисы.

#### Техническая основа формата EML

Формат файла EML по своей сути связан со стандартом MIME, который представляет собой спецификацию формата тел сообщений Интернета. MIME расширяет базовый формат электронной почты для поддержки текста в наборах символов, отличных от ASCII, а также вложений мультимедийного контента.

**Структура MIME:**

   - Файл EML начинается с раздела заголовка, содержащего такие сведения, как «Откуда», «Кому», «Тема», «Дата» и другие заголовки. Дополнительные заголовки могут включать «Тип содержимого», «Передача содержимого, кодировка» и другие.
   - После заголовков отображается тело файла EML. Этот раздел может содержать обычный текст, HTML или многокомпонентное содержимое, позволяющее комбинировать разные типы контента в одном сообщении.
   - Файл EML может содержать вложения, закодированные в base64, позволяющие передавать двоичные данные по электронной почте. Эти вложения содержатся в отдельных частях MIME с соответствующими заголовками, указывающими тип и кодировку файла.

**Типы MIME:**

Содержимое файла EML разбивается на различные типы MIME, чтобы различать текст, HTML и другие типы мультимедиа. К распространенным типам MIME, содержащимся в файле EML, относятся:

- `text/plain` для текстовых сообщений.
- `text/html` для сообщений в формате HTML.
- `multipart/mixed` для электронных писем, содержащих как содержимое сообщений, так и вложения.
- `application/octet-stream` для вложений двоичных файлов.

### TNEF

**Транспортный нейтральный формат инкапсуляции (TNEF)** это собственный формат электронной почты, используемый Microsoft Outlook и Microsoft Exchange Server для инкапсуляции свойств электронной почты и текстового содержимого, которое может не поддерживаться стандартными протоколами электронной почты.
Он используется в основном почтовыми клиентами Microsoft для кодирования и передачи форматирования расширенного текста, встроенных объектов и других запатентованных функций электронной почты, обеспечивая сохранение сложного содержимого электронной почты, такого как форматирование, встроенные файлы и события календаря, при отправке писем между различными почтовыми клиентами Microsoft.

#### Ключевые характеристики

- TNEF может инкапсулировать широкий спектр свойств MAPI, форматирование расширенного текста, специфичное для Microsoft, и специальные свойства, которые невозможно передать в стандартных письмах MIME или в виде обычного текста.
- Элементы Outlook, такие как календарь, контакты, задачи, заметки, можно инкапсулировать в формате TNEF.
- Почтовые клиенты других производителей могут не понимать или неправильно обрабатывать вложения в формате TNEF, что часто приводит к раздражению `winmail.dat` файл. Обычно это происходит потому, что они не могут декодировать проприетарное форматирование, закодированное в TNEF.

#### Техническая основа формата TNEF

- TNEF инкапсулирует содержимое электронной почты в специальное двоичное вложение. Это вложение обычно содержит `.dat` расширение файла, чаще всего называемое `winmail.dat`.
- Данные TNEF часто связаны с типом MIME `application/ms-tnef`.
- Формат TNEF представляет собой иерархию свойств сообщения в виде плоской структуры, которую можно рассматривать как последовательный поток данных. Типичный формат определенного свойства в потоке включает идентификатор с информацией о типе данных, размере (если тип не определен) и данными.

## **Распространенные форматы хранения электронной почты**

### MBOX

**MBOX (сокращение от «Почтовый ящик»)** это широко используемый формат хранения электронной почты, который преобладает уже несколько десятилетий. Он используется для хранения коллекции сообщений электронной почты в одном файле, при этом каждое сообщение объединено и разделено разделительной линией.

MBOX был впервые разработан в 1970-х годах и с тех пор на протяжении многих лет выпускался в различных версиях и внедрениях. Он был реализован во многих почтовых клиентах, таких как почта Unix, Mozilla Thunderbird, Eudora и другие.

#### Ключевые характеристики

- MBOX поддерживается на широком спектре платформ, включая Unix, Linux и macOS.
- Такие клиенты, как Mozilla Thunderbird, Apple Mail и многие другие, могут читать и записывать файлы MBOX.
- Формат имеет простой текстовый характер, что упрощает его анализ и обработку с помощью инструментов обработки текста.
- Благодаря своей простой структуре MBOX широко используется для архивирования и резервного копирования.
- Поскольку все электронные письма хранятся в одном файле, со временем размер файла может стать довольно большим, что приведет к снижению эффективности.
#### Варианты MBOX

MBOX выпускается в нескольких вариантах, каждый из которых имеет небольшие различия в обработке сообщений:

- **MBOXO:** Исходный формат, в котором строки «От» в теле письма заключаются в кавычки с символом >.
- **MBOXRD:** Вариант MBOXO, который еще больше расширяет метод цитирования строк «От».
- **MBOXCL:** Представлено в «классическом» варианте MBOX, где каждая строка «От» заключена в кавычки со строкой from.
- **MBOXCL2:** Вариант MBOXCL, в котором линии «От» удваиваются, чтобы отличить их друг от друга.

#### Техническая основа формата MBOX

**Файловая структура:**
  - Файл MBOX — это простой текстовый файл, содержащий серию сообщений EML.
  - Каждое сообщение начинается со строки «От» (пробел после слова «От»), в которой обычно указываются адрес электронной почты отправителя и отметка времени получения сообщения.
  - За каждым сообщением следует пустая строка, отделяющая его от следующего.
 
    **Example:**
   
    ```
    From user@example.com Fri Jan 01 00:00:00 2021
    (Headers)
   
    (Body)
   
    From user2@example.com Fri Jan 01 00:01:00 2021
    (Headers)
   
    (Body)
    ```

### PST/OST

 **Персональный стол для хранения (PST)** and **Таблица автономного хранилища (OST)** это форматы файлов, используемые Microsoft Outlook для хранения копий электронных писем, событий календаря и других элементов.

#### Ключевые характеристики

- Файлы PST используются для хранения личной информации и обычно используются для архивирования старых электронных писем и данных. В основном используется домашними пользователями и небольшими организациями для локального хранения сообщений электронной почты, контактов и событий календаря.
- Файлы OST используются для автономного хранения и синхронизации электронной почты и других данных с сервером Exchange. В основном используется пользователями, имеющими доступ к серверу Microsoft Exchange или Office 365.
- Хранится локально на компьютере пользователя. Доступ к нему возможен, даже если пользователь не подключен к почтовому серверу.
- Файлы PST можно легко создать резервные копии и перенести на другие компьютеры. Пользователи могут передавать файлы PST между разными системами или версиями Outlook.
- Файлы OST не предназначены для резервного копирования или передачи вручную, поскольку они представляют собой синхронизированные копии серверных данных. Файлы OST привязаны к определенным профилям и не могут быть легко перемещены в разные системы.

### OLM

 **Архивный файл Outlook для Mac (OLM)** это формат файла, используемый Microsoft Outlook для Mac для хранения сообщений электронной почты, событий календаря, контактов, задач и других элементов.

#### Ключевые характеристики

- Файлы OLM в основном используются для архивирования и резервного копирования электронных писем и других элементов Outlook в системах Mac.
- Файлы OLM хранятся локально на Mac пользователя.
- Файлы OLM можно открывать и получать к ним доступ через Microsoft Outlook для Mac. Без конвертации они напрямую несовместимы с Outlook для Windows.
- Корпорация Майкрософт не устанавливает фиксированного ограничения размера файлов OLM, но если размер файла становится очень большим, могут возникнуть проблемы с производительностью. Обычно пользователи управляют размером, создавая несколько небольших архивов, а не один большой файл OLM.
- Резервное копирование: поскольку файлы OLM хранятся локально, их можно копировать или копировать на внешние устройства хранения.

### TGZ

**TGZ**  (используемый Zimbra для резервного файла почтового ящика) — это формат файла, используемый для архивирования и сжатия данных, обычно используемый в системах Unix и Linux. Термин «TGZ» означает комбинацию двух утилит: «tar» (ленточный архив) и «gzip». Формат файлов.tar объединяет несколько файлов и каталогов в один архивный файл. Он сохраняет информацию о файловой системе, такую как структура каталогов, права доступа к файлам и временные метки. Формат файлов.gz сжимает данные, уменьшая размер tar-архива и упрощая управление им и передачу. Сжатый характер TGZ позволяет передавать архивы электронной почты через Интернет или перемещать их между системами.

### NSF

 **Хранилище заметок (NSF)** это собственный формат файлов, используемый в основном IBM Lotus Notes (теперь HCL Notes) для хранения различных типов данных, включая электронную почту, события календаря, задачи и другие данные приложений. В файлах NSF используется модель базы данных NoSQL, основанная на документах. Каждая база данных хранится в виде одного файла NSF с расширением.nsf. Расширение представляет собой формат базы данных, используемый IBM Notes и Domino Server. Каждое электронное письмо, запись в календаре или задание хранятся в виде документа, который может содержать различные типы данных, такие как текст, вложения, ссылки, форматирование расширенного текста и даже метаданные.

## **Почтовые протоколы**

### SMTP

**SMTP (простой протокол передачи почты)** это протокол, используемый для отправки и получения сообщений электронной почты через Интернет. Он является важной частью процесса связи по электронной почте и в первую очередь отвечает за передачу электронных писем с почтового сервера отправителя на почтовый сервер получателя, а также за отправку электронных писем от клиента на сервер. Порт SMTP по умолчанию равен 25 для связи между почтовыми серверами. Для SMTP также используются порты 587 и 465:587 обычно используется для отправки почты, а 465 — для SMTP через SSL (SMTPS). SMTP определяется следующим образом [Версия стандарта RFC 5321](https://datatracker.ietf.org/doc/html/rfc5321).

#### Ключевые характеристики

- Поддерживает механизмы аутентификации (например, SMTP AUTH), гарантирующие, что только авторизованные пользователи могут отправлять электронные письма через сервер.
- SMTP может использовать SSL/TLS для шифрования соединения между клиентом и сервером, обеспечивая безопасную передачу данных электронной почты.
- Предоставляет подробные сообщения об ошибках и коды состояния, указывающие на успешность или неудачу передачи электронной почты.
- SMTP может обрабатывать сообщения, состоящие из нескольких частей, что позволяет включать в электронное письмо вложения и различные типы содержимого.
- SMTP — это широко распространенный и стандартизированный протокол, обеспечивающий совместимость между различными почтовыми системами и клиентами (например, Microsoft Outlook, Mozilla Thunderbird используют SMTP для отправки исходящих писем). Автоматизированные системы и приложения используют SMTP для отправки уведомлений, предупреждений и других автоматических электронных писем.

### IMAP

**Протокол доступа к сообщениям в Интернете (IMAP)** это стандартный протокол, используемый почтовыми клиентами для доступа, получения и управления сообщениями электронной почты с почтового сервера. Среди поддерживаемых клиентов — Microsoft Outlook, Mozilla Thunderbird, Apple Mail и многие почтовые сервисы, такие как Gmail, Yahoo Mail и Outlook.com. Чаще всего используется версия IMAP4, определяемая следующим образом [RFC 3501](https://datatracker.ietf.org/doc/html/rfc3501). В отличие от **POP (почтовый протокол)**, который загружает электронные письма на локальное устройство, IMAP хранит электронную почту на сервере. Возможность просмотра сообщений электронной почты и управления ими непосредственно на почтовом сервере обеспечивает гибкий доступ к ним с нескольких устройств и мест, снижая риск потери данных в случае потери или повреждения устройства. IMAP синхронизирует почтовый клиент с сервером, гарантируя, что изменения, внесенные на одном клиенте (например, чтение или удаление электронной почты), отражаются на всех других клиентах. IMAP обычно использует порт 143 для незашифрованной связи и порт 993 для зашифрованной связи (SSL/TLS).

#### Ключевые характеристики

- Управление папками. IMAP позволяет пользователям создавать, удалять и переименовывать папки на почтовом сервере. Он поддерживает иерархические структуры папок для организации электронных писем.
- IMAP отслеживает статус каждого письма (например, прочитанное, непрочитанное, помеченное, отвеченное). Эти флаги состояния хранятся на сервере, поэтому они одинаковы на всех устройствах.
- IMAP может извлекать определенные части электронного письма, такие как заголовки или основные части, что может быть полезно для предварительного просмотра писем или обработки больших вложений.
- IMAP поддерживает поиск и фильтрацию писем на стороне сервера по различным критериям, что позволяет клиентам получать определенные сообщения без загрузки всех писем.
- Несколько клиентов могут одновременно обращаться к одному и тому же почтовому ящику. IMAP обрабатывает одновременный доступ и обновляет состояние электронной почты в режиме реального времени.
- Зависимость от сервера. Поскольку электронные письма хранятся на сервере, для доступа к электронной почте и управления ею необходимо надежное подключение к Интернету. Время простоя сервера может повлиять на доступность электронной почты.
- IMAP может использовать SSL/TLS для шифрования соединения между клиентом и сервером, обеспечивая безопасную передачу данных электронной почты.
- IMAP поддерживает различные методы аутентификации, включая OAuth, для безопасной проверки личности пользователей.

#### Расширения протоколов

- **РЕЖИМ ОЖИДАНИЯ IMAP:** Расширение, которое позволяет серверу уведомлять клиента о новых сообщениях или изменениях в режиме реального времени, уменьшая необходимость в частом опросе.
- **КВОТА IMAP:** Расширение, предоставляющее механизмы управления квотами хранения и составления отчетов, помогающее пользователям управлять размерами почтовых ящиков.
- **ФИЛЬМ IMAP:** Расширение, которое оптимизирует процесс перемещения сообщений между папками на сервере, повышая производительность.

### POP3

 **Почтовый протокол версии 3 (POP3)** это протокол, используемый почтовыми клиентами, такими как Microsoft Outlook, Mozilla Thunderbird и Apple Mail, для получения электронной почты с почтового сервера. Это один из самых старых и простых протоколов для получения электронной почты, предназначенный для загрузки электронных писем на локальное устройство и последующего удаления их с сервера.

#### Ключевые характеристики

- Поскольку электронные письма загружаются на локальное устройство, пользователи могут получать доступ к электронной почте в автономном режиме без постоянного подключения к Интернету.
- POP3 прост в настройке и использовании, что делает его доступным для пользователей, которым требуется базовый поиск электронной почты без дополнительных функций.
- POP3 не синхронизирует электронную почту на нескольких устройствах. Как только электронное письмо загружено на одно устройство, оно по умолчанию становится недоступным на сервере.
- POP3 предоставляет ограниченные возможности управления на стороне сервера. Расширенные функции, такие как управление папками, поиск на стороне сервера и флаги состояния сообщений, не поддерживаются.
- Поскольку электронные письма хранятся локально, пользователям необходимо обеспечить резервное копирование данных электронной почты, чтобы предотвратить потерю в случае сбоя устройства.
- Пользователи могут настроить параметры POP3 для удаления сообщений электронной почты с сервера сразу после загрузки, через определенный период или после удаления из локального клиента.
- POP3 может использовать SSL/TLS для шифрования соединения между клиентом и сервером, обеспечивая безопасную передачу данных электронной почты.

#### Версии и расширения протоколов

- **Протокол POP3 через SSL (POP3S)** это версия POP3, которая работает по соединению SSL/TLS и обеспечивает зашифрованную связь между клиентом и сервером.
- **APOP (аутентифицированный почтовый протокол)** это расширение, которое обеспечивает более безопасный метод аутентификации с использованием хешированных паролей.

## **API для доступа к почтовым сервисам**

### Exchange Web Dav (официально устарел)

**Exchange WebDAV (распределенное веб-создание и управление версиями)** это расширение протокола, используемое Microsoft Exchange Server для предоставления клиентам доступа к почте, календарям и контактам, хранящимся на сервере, и управления ими через HTTP. Хотя оно официально объявлено устаревшим, оно сыграло важную роль в развитии веб-технологий и удаленного доступа к данным Exchange.

### EWS

**Веб-службы Exchange (EWS)** это API, предоставляемый корпорацией Майкрософт для взаимодействия с Microsoft Exchange Server. Он позволяет разработчикам программно получать доступ к данным Exchange, таким как электронные письма, события календаря, контакты и задачи, и управлять ими. EWS был представлен на смену старым протоколам, таким как WebDAV, и обеспечивает более надежный и эффективный способ работы с данными Exchange.

Он использует протокол SOAP (простой протокол доступа к объектам) через HTTP и HTTPS для отправки и получения сообщений между клиентом и сервером Exchange. Реализовать и отлаживать EWS на основе SOAP может быть сложно по сравнению с API-интерфейсами RESTful. Корпорация Майкрософт постепенно переходит на График Майкрософт API, который обеспечивает более современный подход к доступу к данным Microsoft 365, включая Exchange Online, на основе RESTful.

### График Майкрософт

**График Майкрософт** это мощный API, который предоставляет унифицированную конечную точку для доступа к широкому спектру данных и сервисов в экосистеме Microsoft 365. Он позволяет разработчикам взаимодействовать с различными службами Microsoft, включая Office 365, Azure Active Directory, SharePoint, OneDrive, Outlook, Microsoft Teams и другие. Она служит шлюзом к данным и аналитическим данным в Microsoft 365.

#### Ключевые характеристики

- Базовым URL-адресом API является https://graph.microsoft.com.
- Использует OAuth 2.0 для аутентификации и авторизации.
- Использует возможности искусственного интеллекта и машинного обучения Microsoft для расширенного анализа данных.

### API Gmail

**API Gmail** это RESTful API, предоставляемый Google, который позволяет разработчикам программно взаимодействовать с почтовыми ящиками Gmail и выполнять различные операции с данными электронной почты (чтение, отправка, удаление и организация сообщений электронной почты). Это более гибкая и мощная альтернатива традиционным протоколам IMAP и SMTP, позволяющая разработчикам получать доступ к сообщениям, темам, меткам, черновикам и многому другому в Gmail и управлять ими. Он доступен через облачную платформу Google.

#### Ключевые характеристики

- Выполните несколько запросов API за один HTTP-вызов, чтобы повысить эффективность и сократить количество сетевых запросов.
- Использует OAuth 2.0 для безопасной аутентификации и авторизации, гарантируя доступ приложений только к тем данным, на которые пользователи явно дали разрешение.
- Предоставляет различные области разрешений, позволяя приложениям запрашивать только необходимый уровень доступа (например, доступ только для чтения или полный доступ).
- Все взаимодействия с API происходят по протоколу HTTPS для обеспечения безопасной связи между приложением и серверами Google.

## **Передовые технологии**

### S/MIME

**Безопасные/многоцелевые расширения электронной почты Интернета (S/MIME)** является широко используемым стандартом для защиты электронной почты. Он предоставляет способ отправки и получения подписанных и зашифрованных сообщений электронной почты, обеспечивающий целостность, подлинность и конфиденциальность сообщений.

#### Ключевые характеристики

- S/MIME гарантирует, что содержимое письма может прочитать только предполагаемый получатель. Он использует комбинацию симметричных (для скорости) и асимметричных (для обмена ключами) алгоритмов шифрования. Обычно используются такие алгоритмы, как RSA (используется для асимметричного шифрования), AES или Advanced Encryption Standard (один из симметричных алгоритмов) и Triple DES.
- Подтверждает личность отправителя.
- Проверяет, что содержимое электронной почты не было изменено во время передачи. Запрещает отправителю отрицать авторство электронного письма.
- Использует закрытый ключ отправителя для создания подписи, а клиент получателя использует открытый ключ отправителя для ее проверки.
- S/MIME использует инфраструктуру открытых ключей (PKI) для управления ключами и обмена ими. Цифровые сертификаты, выдаваемые центрами сертификации (ЦС), привязывают открытые ключи к индивидуальным идентификационным данным. Сертификаты обычно соответствуют стандарту X.509.

### DKIM

**Почта, идентифицированная ключами домена (DKIM)** это механизм аутентификации электронной почты, предназначенный для обнаружения поддельных адресов отправителей. Этот метод широко используется для фишинга и подделки электронной почты. Он позволяет организации брать на себя ответственность за пересылку электронной почты, привязывая доменное имя к сообщению, тем самым обеспечивая его подлинность и целостность. DKIM проверяет, действительно ли электронное письмо, пришедшее с определенного домена, было авторизовано владельцем домена. При этом основное внимание уделяется подлинности адреса электронной почты «От кого». Это достигается тем, что отправитель может подписать электронное письмо личным ключом, а получатель проверяет эту подпись с помощью открытого ключа, опубликованного в записях DNS отправителя.

#### Ключевые характеристики

- DKIM добавляет в электронное письмо заголовок «DKIM-подпись», содержащий цифровую подпись и несколько ключевых параметров. Текст письма и выбранные заголовки хешируются с использованием алгоритма хеширования, такого как SHA-256. Затем этот хэш шифруется с использованием закрытого ключа отправителя для создания цифровой подписи.
- Отправитель публикует открытый ключ в своих записях DNS. Сервер электронной почты получателя ищет открытый ключ отправителя в DNS для проверки цифровой подписи.

### Электронная почта AMP

**Ускоренные мобильные страницы (AMP)** for Email — это фреймворк с открытым исходным кодом, предназначенный для создания динамичных, интерактивных и увлекательных электронных писем. Он призван сделать электронные письма более динамичными и функциональными, изменив среду, которая традиционно была статичной и пассивной.

#### Ключевые функции

- Позволяет пользователям выполнять действия непосредственно в электронном письме, например отвечать на события, заполнять формы или взаимодействовать с каруселями продуктов.
- Электронные письма могут содержать динамический контент, который обновляется во время открытия. Это позволяет пользователям видеть самую свежую информацию, будь то последние цены, состояние запасов или новости.
- Электронные письма AMP поддерживаются несколькими крупными почтовыми клиентами, включая Gmail, Yahoo Mail, Outlook.com. Каждый почтовый клиент, поддерживающий электронные письма AMP, имеет свой собственный набор требований и правил рендеринга.
- Электронные письма AMP необходимо отправлять в формате MIME, состоящем из нескольких частей, включая текстовую версию для базового доступа, версию HTML для богатого и визуально привлекательного контента и версию AMP для динамических и интерактивных элементов, обеспечивающую совместимость и улучшенный пользовательский интерфейс в различных почтовых клиентах.
- Только проверенные отправители могут отправлять AMP-письма, гарантируя безопасность и надежность писем.

### AntiSpam

Под антиспамом понимается ряд методов, технологий и стратегий, предназначенных для обнаружения, предотвращения и предотвращения нежелательных и часто вредоносных сообщений электронной почты, известных как спам.

#### Методы защиты от спама

1. **Методы фильтрации**
   - Фильтрация на основе содержимого: анализирует содержимое электронного письма на предмет выявления распространенных признаков спама.
   - Черные списки: списки известных спам-адресов или доменов, которые автоматически блокируются.
   - Белые списки: списки утвержденных отправителей, которым всегда разрешен доступ.
   - Эвристическая фильтрация: использует правила и алгоритмы для обнаружения спама на основе шаблонов.
   - Байесовская фильтрация: использует статистические методы для выявления спама на основе исторических данных.
   - Грейлистинг: временно отклоняет электронные письма от неизвестных отправителей и принимает их, если они снова отправляются с задержкой.
   - Машинное обучение: использует сложные модели, обученные на больших наборах данных, для выявления спама.

2. **Методы аутентификации**
   - SPF (Sender Policy Framework): проверяет, разрешен ли IP-адрес отправителя для отправки электронных писем для домена.
   - DKIM (DomainKeys Identified Mail): использует цифровые подписи для подтверждения того, что электронное письмо не было изменено во время передачи и действительно принадлежит домену, за который оно заявлено.
   - DMARC (Domain-Based Message Authentication, Reporting & Conformance): основан на SPF и DKIM и предоставляет отправителям электронной почты стандартизированный метод, позволяющий отправителям электронной почты указывать, что их сообщения защищены и как принимающие серверы должны реагировать на сбои аутентификации.

### Отскакивает электронная почта

#### Типы отказов по электронной почте

1. **Тяжелые отскоки.** Постоянные сбои при доставке, указывающие на то, что электронное письмо не может быть доставлено на адрес предполагаемого получателя.
   - Распространенные причины:
     - Неверные или несуществующие адреса электронной почты.
     - Домен получателя не существует.
     - Постоянные проблемы с сервером на стороне получателя.
     - Опечатки или ошибки форматирования в адресе электронной почты.

2. **Мягкие отскакивания.** Временные сбои при доставке, указывающие на то, что электронное письмо не удалось доставить в тот момент, но при повторной попытке отправки письма может быть успешно выполнено позже.
   - Распространенные причины:
     - Почтовый ящик получателя заполнен.
     - Временные проблемы с сервером на стороне получателя.
     - Сервер электронной почты получателя отключен или отключен.
     - Слишком большие электронные письма для системы электронной почты получателя.

Серверы электронной почты обычно возвращают коды отказов, которые помогают определить причину отказа.

### Многопоточная обработка электронной почты

Многопоточная обработка электронной почты — это метод, используемый почтовыми клиентами и приложениями для группировки связанных писем по теме или переписке, что упрощает пользователям отслеживание и управление обменом электронной почтой.

#### Ключевые функции

- **Заголовки ответов и ссылок**. Заголовки писем, указывающие на предыдущие сообщения в теме, помогают почтовому клиенту связывать ответы и пересылать их на исходное письмо.
- Сюжетные линии. Часто используется для группировки писем в темы. Письма с одинаковой темой, обычно с префиксом «Re:» (ответ) или «Fwd:» (переслать), группируются вместе.
- Пользователи могут расширять или сворачивать темы, сосредотачиваясь только на соответствующих частях беседы.
